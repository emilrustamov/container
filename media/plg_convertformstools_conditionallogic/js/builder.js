(()=>{"use strict";const e=function(){return Math.random().toString(36).substr(2,9)},t=function(e){return Joomla.JText._("PLG_CONVERTFORMSTOOLS_CONDITIONALLOGIC_"+e)};function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===r(t)?t:String(t)}var l=function(a){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(d,React.Component);var l,f,s,p,y=(s=d,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(s);if(p){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)}(this,e)});function d(r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),u(i(n=y.call(this,r)),"modelRules",(function(t){return{addGroup:function(){var r=n.state.conditions,o=r[t].rules,i=u({},e(),u({},e(),{}));o=Object.assign(o,i),n.setState({conditions:r})},add:function(r){var o=n.state.conditions,i=o[t].rules,c=u({},e(),{});i[r]=Object.assign(i[r],c),n.setState({conditions:o})},delete:function(e,r){var o=n.state.conditions,i=o[t].rules;delete i[e][r],!Object.keys(i[e]).length&&delete i[e],n.setState({conditions:o})},update:function(e,r,o){var i=n.state.conditions,c=i[t].rules[r][o];Object.assign(c,u({},e.target.name,e.target.value)),n.setState({conditions:i})}}})),u(i(n),"model",(function(t){return{add:function(r){var o=n.state.conditions,i=u({},e(),{});o[r][t]=Object.assign(o[r][t]||{},i),n.setState({conditions:o})},update:function(e,r,o){var i=n.state.conditions,c=i[o][t][r],a=Object.assign(c,u({},e.target.name,e.target.value));i[o][t][r]=a,n.setState({conditions:i})},delete:function(e,r){var o=n.state.conditions;delete o[r][t][e],n.setState({conditions:o})}}})),u(i(n),"modelCondition",{add:function(){var r=e(),o=u({},r,{label:t("NEW_CONDITION"),rules:u({},e(),u({},e(),{})),actions:u({},e(),{})}),i=Object.assign(n.state.conditions,o);n.setState({conditions:i}),n.modelCondition.show(r)},delete:function(e){var t=n.state.conditions;delete t[e],n.setState({conditions:t})},update:function(e,t,r){var o=n.state.conditions;o[e][t]=r,n.setState({conditions:o})},getActive:function(){var e=Object.keys(n.state.conditions);if(e)return e.includes(n.state.active_condition)?n.state.active_condition:e[0]},show:function(e){n.setState({active_condition:e})},copy:function(t){var r=e(),o=JSON.parse(JSON.stringify(n.state.conditions[t]));o.label=o.label+" (2)";var i=u({},r,o),c=Object.assign(n.state.conditions,i);n.setState({conditions:c}),n.modelCondition.show(r)}}),n.state={conditions:{},el:null,form_fields:null,active_condition:null},n.builder=$builder.get(0),n}return l=d,(f=[{key:"componentDidUpdate",value:function(){this.state.el.value=JSON.stringify(this.state.conditions)}},{key:"getFields",value:function(){return ConvertFormsBuilder.FieldsHelper.getFieldsArray()}},{key:"componentDidMount",value:function(){var e=this;this.setState({el:this.props.el,conditions:this.props.el.value?JSON.parse(this.props.el.value):{},form_fields:this.getFields()}),this.builder.addEventListener("fields.update",(function(){e.setState({form_fields:e.getFields()})}))}}])&&n(l.prototype,f),Object.defineProperty(l,"prototype",{writable:!1}),d}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function b(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,React.Component);var r,n,o,i,c=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(o);if(i){var r=d(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function u(){var e,r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=y(e=c.call.apply(c,[this].concat(a))),o=function(){e.props.condition.label||e.setLabel(t("NEW_CONDITION"))},(n=b(n="blur"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,e}return r=u,(n=[{key:"render",value:function(){var e=this,r="conditionNav "+(this.props.active==this.props.id?"active":"");return React.createElement("div",{className:r},React.createElement("input",{type:"text",name:"label",className:"Mui",placeholder:t("ENTER_TITLE"),value:this.props.condition.label,onBlur:this.blur,onFocus:function(){return e.props.modelCondition.show(e.props.id)},onChange:function(t){return e.props.modelCondition.update(e.props.id,"label",t.target.value)}}),React.createElement("div",{className:"toolbar"},React.createElement("button",{className:"cf-icon-cancel",onClick:function(){return e.props.modelCondition.delete(e.props.id)},title:t("DELETE_CONDITION")}),React.createElement("button",{className:"cf-icon-copy",onClick:function(){return e.props.modelCondition.copy(e.props.id)},title:t("COPY_CONDITION")})))}}])&&s(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===v(o)?o:String(o)),n)}var o}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(u,React.Component);var r,n,o,i,c=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(o);if(i){var r=_(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return r=u,(n=[{key:"getFields",value:function(){var e=this,t=this.props.form_fields;return this.props.exclude&&(t=t.filter((function(t){return t.id!=e.props.exclude}))),this.props.inputsOnly?t.filter((function(e){return!!e.name&&e})):t}},{key:"render",value:function(){var e=this.getFields();return React.createElement("select",{name:this.props.name?this.props.name:"field",value:this.props.value,onChange:this.props.onChange,className:"fieldName"},React.createElement("option",{value:""},"- ",t("SELECT_FIELD")," -"),e&&e.map((function(e){return React.createElement("option",{key:e.id,"data-type":e.type,value:e.id},e.label)})))}}])&&h(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function C(e,t,r){return(t=N(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===g(t)?t:String(t)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(u,React.Component);var r,n,o,i,c=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(o);if(i){var r=T(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return C(P(e=c.call.apply(c,[this].concat(n))),"getOptions",(function(){if(!e.props.selected_field)return{};var r={show_field:t("SHOW_FIELD"),hide_field:t("HIDE_FIELD")};e.props.selected_field.hasInput&&(r.copy_value=t("COPY_VALUE"));var n={change_value:t("CHANGE_VALUE")},o={select_option:t("SELECT_OPTION"),deselect_option:t("DESELECT_OPTION"),show_option:t("SHOW_OPTION"),show_all_options:t("SHOW_ALL_OPTIONS"),hide_option:t("HIDE_OPTION"),hide_all_options:t("HIDE_ALL_OPTIONS")};switch(e.props.selected_field.type){case"dropdown":delete o.deselect_option;break;case"hidden":return n}return e.props.selected_field.options?w(w({},r),o):(e.props.selected_field.name&&(r=w(w({},r),n)),r)})),e}return r=u,(n=[{key:"render",value:function(){var e=this.getOptions();return React.createElement("select",{name:"trigger",onChange:this.props.onChange,value:this.props.value,className:"trigger"},React.createElement("option",{value:""},"- ",t("SELECT_ACTION")," -"),Object.keys(e).map((function(t){return React.createElement("option",{key:t,value:t},e[t])})))}}])&&R(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}();function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==D(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===D(o)?o:String(o)),n)}var o}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(u,React.Component);var r,n,o,i,c=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(o);if(i){var r=L(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return r=u,(n=[{key:"render",value:function(){if(!this.props.selected_field||!this.props.action||!this.props.action.trigger)return null;if("copy_value"==this.props.action.trigger){var e=ConvertFormsBuilder.FieldsHelper.getFieldsArray();return React.createElement(E,{name:"arg",inputsOnly:!0,value:this.props.value||"",exclude:this.props.action.field,form_fields:e,onChange:this.props.onChange})}return this.props.action.trigger.endsWith("option")||this.props.action.trigger.includes(["change_value"])?this.props.selected_field.options?React.createElement("select",{className:"fieldValue",name:"arg",onChange:this.props.onChange,value:this.props.value||""},React.createElement("option",{value:""},"- ",t("SELECT_OPTION")," -"),this.props.selected_field.options.map((function(e){return React.createElement("option",{key:e.value,value:e.value},e.label)}))):React.createElement("input",{type:"text",name:"arg",placeholder:t("ENTER_VALUE"),onChange:this.props.onChange,value:this.props.value||"",className:"fieldValue"}):void 0}}])&&k(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}();function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==B(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===B(o)?o:String(o)),n)}var o}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(u,React.Component);var r,n,o,i,c=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(o);if(i){var r=F(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return r=u,(n=[{key:"render",value:function(){var e=this,r=this.props.form_fields.find((function(t){return t.id==e.props.action.field}));return React.createElement("div",{className:"action options"},React.createElement(E,{value:this.props.action.field,form_fields:this.props.form_fields,onChange:this.props.onChange}),this.props.action.field&&React.createElement(A,{value:this.props.action.trigger,selected_field:r,onChange:this.props.onChange}),React.createElement(x,{action:this.props.action,value:this.props.action.arg,selected_field:r,onChange:this.props.onChange}),React.createElement("span",{className:"clb-btns"},React.createElement("button",{className:"cf-icon-cancel",title:t("DELETE_ACTION"),onClick:this.props.onDelete})))}}])&&H(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}();function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==G(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===G(o)?o:String(o)),n)}var o}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(u,React.Component);var r,n,o,i,c=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=J(o);if(i){var r=J(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return r=u,(n=[{key:"render",value:function(){var e=this,r=this.props.actions?Object.entries(this.props.actions).length:0;return React.createElement("div",{className:"actions"},r>0&&Object.entries(this.props.actions).map((function(t){var r,n,o=(n=2,function(e){if(Array.isArray(e))return e}(r=t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,c,u=[],a=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{if(!a&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw o}}return u}}(r,n)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],c=o[1];return React.createElement(q,{key:i,action:c,form_fields:e.props.form_fields,onAdd:function(){return e.props.model.add(e.props.condition_id)},onChange:function(t){return e.props.model.update(t,i,e.props.condition_id)},onDelete:function(){return e.props.model.delete(i,e.props.condition_id)}})})),React.createElement("button",{className:"cf-btn cf-icon-plus",title:t("ADD_ACTION"),onClick:function(){return e.props.model.add(e.props.condition_id)}}))}}])&&V(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}();function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,re(n.key),n)}}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t,r){return(t=re(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function re(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Q(t)?t:String(t)}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(u,React.Component);var r,n,o,i,c=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ee(o);if(i){var r=ee(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Z(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return te(Z(e=c.call.apply(c,[this].concat(n))),"getOptions",(function(){if(!e.props.selected_field)return{};var r={empty:t("EMPTY"),equals:t("EQUALS"),updates:t("UPDATES"),selected:t("HAS_SELECTED"),contains:t("CONTAINS"),starts_with:t("STARTS_WITH"),ends_with:t("ENDS_WITH"),regex:t("REGEX"),not_empty:t("NOT_EMPTY"),not_equals:t("NOT_EQUALS"),not_selected:t("NOT_SELECTED"),not_contains:t("NOT_CONTAIN"),not_start_swith:t("NOT_START_WITH"),not_ends_with:t("NOT_END_WITH"),not_regex:t("NOT_REGEX"),less_than:t("LESS_THAN"),less_equals:t("LESS_THAN_EQUAL"),greater_than:t("GREATER_THAN"),greater_equals:t("GREATER_THAN_EQUAL")},n={total_checked_equals:t("TOTAL_CHECKED_EQUAL"),total_checked_not_equals:t("TOTAL_CHECKED_NOT_EQUALS"),total_checked_less_than:t("TOTAL_CHECKED_LESS"),total_checked_less_equals:t("TOTAL_CHECKED_LESS_THAN_OR"),total_checked_greater_than:t("TOTAL_CHECKED_GREATER"),total_checked_greater_equals:t("TOTAL_CHECKED_GREATER_THAN_OR")};switch(e.props.selected_field.type){case"email":delete r.less_than,delete r.less_equals,delete r.greater_than,delete r.greater_equals;break;case"checkbox":r=$($({},r),n);break;case"termsofservice":return{is_checked:t("IS_CHECKED"),not_checked:t("NOT_CHECKED")};case"dropdown":case"radio":delete r.selected,delete r.not_selected}return e.props.selected_field.options?(delete r.contains,delete r.not_contains):(delete r.selected,delete r.not_selected),r})),e}return r=u,(n=[{key:"render",value:function(){var e=this.getOptions();return React.createElement("select",{name:"comparator",onChange:this.props.onChange,value:this.props.value,className:"operator"},React.createElement("option",{value:""},"- ",t("SELECT_OPERATOR")," -"),Object.keys(e).map((function(t){return React.createElement("option",{key:t,value:t},e[t])})))}}])&&X(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}();function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==oe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===oe(o)?o:String(o)),n)}var o}function ce(e,t){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ce(e,t)}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}var ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ce(e,t)}(u,React.Component);var r,n,o,i,c=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ue(o);if(i){var r=ue(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return r=u,(n=[{key:"render",value:function(){return this.props.selected_field&&this.props.selected_field.options?React.createElement("select",{className:"fieldValue",name:"arg",onChange:this.props.onChange,value:this.props.value||""},React.createElement("option",{value:""},"- ",t("SELECT_OPTION")," -"),this.props.selected_field.options.map((function(e){return React.createElement("option",{key:e.value,value:e.value},e.label)}))):React.createElement("input",{type:"text",name:"arg",placeholder:t("ENTER_VALUE"),onChange:this.props.onChange,value:this.props.value||"",className:"fieldValue"})}}])&&ie(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}();function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==le(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===le(o)?o:String(o)),n)}var o}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pe(e)}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(u,React.Component);var r,n,o,i,c=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pe(o);if(i){var r=pe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return r=u,(n=[{key:"render",value:function(){var e=this,r=this.props.form_fields.find((function(t){return t.id==e.props.rule.field}));return React.createElement("div",{className:"rule options"},React.createElement(E,{value:this.props.rule.field,form_fields:this.props.form_fields,onChange:this.props.onChange,inputsOnly:"true"}),this.props.rule.field&&React.createElement(ne,{value:this.props.rule.comparator,selected_field:r,onChange:this.props.onChange}),this.props.rule.comparator&&!["is_checked","not_checked","empty","not_empty","updates"].includes(this.props.rule.comparator)&&React.createElement(ae,{value:this.props.rule.arg,selected_field:this.props.rule.comparator.includes("selected")||["equals","not_equals"].includes(this.props.rule.comparator)?r:"",onChange:this.props.onChange}),React.createElement("span",{className:"clb-btns"},React.createElement("button",{className:"cf-icon-cancel",title:t("DELETE_RULE"),onClick:this.props.onDelete})))}}])&&fe(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}();function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==de(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===de(o)?o:String(o)),n)}var o}function me(e,t){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},me(e,t)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&me(e,t)}(u,React.Component);var r,n,o,i,c=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(o);if(i){var r=ve(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return r=u,(n=[{key:"render",value:function(){var e=this,r=this.props.rules,n=this.props.model(this.props.condition_id);return React.createElement("div",{className:"rules"},Object.keys(r).map((function(o,i){return React.createElement("div",{className:"ruleGroup",key:o,"data-label-or":Joomla.JText._("NR_OR")},Object.keys(r[o]).map((function(t){return React.createElement(ye,{key:t,rule:r[o][t],condition:e.props.condition,form_fields:e.props.form_fields,onChange:function(e){return n.update(e,o,t)},onDelete:function(){return n.delete(o,t)}})})),React.createElement("button",{className:"cf-btn cf-icon-plus add-rule",title:t("ADD_RULE"),onClick:function(){return n.add(o)}}),Object.keys(r).length==i+1&&React.createElement("button",{style:{marginLeft:"3px"},className:"cf-btn cf-icon-plus add-rule-group",title:t("ADD_RULE_GROUP"),onClick:function(){return n.addGroup(e.props.condition_id)}}," ",t("ADD_RULE_GROUP")))})),0==Object.keys(r).length&&React.createElement("button",{className:"cf-btn cf-icon-plus",title:t("ADD_RULE"),onClick:function(){return n.addGroup(e.props.condition_id)}}))}}])&&be(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}();function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function _e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Re(n.key),n)}}function Ee(e,t){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ee(e,t)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function we(e,t,r){return(t=Re(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Re(e){var t=function(e,t){if("object"!==Oe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Oe(t)?t:String(t)}var Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ee(e,t)}(u,React.Component);var r,n,o,i,c=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=je(o);if(i){var r=je(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ge(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return we(ge(e=c.call.apply(c,[this].concat(r))),"getFieldsUsedInRules",(function(){var t=[];return Object.values(e.props.condition.rules).forEach((function(e){Object.values(e).forEach((function(e){var r=parseInt(e.field);e.field&&!t.includes(r)&&t.push(r)}))})),t})),we(ge(e),"getComparatorsUsedInRules",(function(){var t=[];return Object.values(e.props.condition.rules).forEach((function(e){Object.values(e).forEach((function(e){e.comparator&&!t.includes(e.comparator)&&t.push(e.comparator)}))})),t})),we(ge(e),"getValidFieldsForActions",(function(){var t=e.getFieldsUsedInRules();return e.props.form_fields.filter((function(e){return!t.includes(e.id)}))})),e}return r=u,(n=[{key:"render",value:function(){var e=this.props.condition,r="condition "+(this.props.active==this.props.id?"active":""),n=this.getValidFieldsForActions(),o=this.getComparatorsUsedInRules(),i=1==o.length&&"updates"==o[0];return React.createElement("div",{className:r},React.createElement("div",{className:"conditionSection rules"},React.createElement("h3",null,t("RULES_ALIAS")),React.createElement(he,{rules:e.rules,condition:e,condition_id:this.props.id,model:this.props.modelRule,form_fields:this.props.form_fields})),React.createElement("div",{className:"conditionSection actions"},React.createElement("h3",null,t("ACTIONS_ALIAS")),React.createElement(K,{actions:e.actions,condition_id:this.props.id,model:this.props.modelAction,form_fields:n})),!i&&React.createElement("div",{className:"conditionSection actionselse"},React.createElement("h3",null,t("CONDITION_ELSE")),React.createElement(K,{actions:e.else,condition_id:this.props.id,model:this.props.modelActionElse,form_fields:n})))}}])&&_e(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}();function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,c,u=[],a=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{if(!a&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ce(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Pe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Pe(o)?o:String(o)),n)}var o}function Ae(e,t){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ae(e,t)}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ae(e,t)}(u,e);var r,n,o,i,c=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=De(o);if(i){var r=De(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return r=u,(n=[{key:"render",value:function(){var e=this,r=this.modelCondition.getActive(),n="clb "+(r?"":"clb-empty");return React.createElement("div",{className:n},React.createElement("div",{className:"clb-left"},React.createElement("div",{className:"conditionNavList"},Object.entries(this.state.conditions).map((function(t){var n=Te(t,2),o=n[0],i=n[1];return React.createElement(m,{key:o,id:o,active:r,condition:i,modelCondition:e.modelCondition})}))),!r&&React.createElement("div",null,React.createElement("div",null,t("NO_CONDITIONS")),React.createElement("div",{className:"cf-icon-unhappy"})),React.createElement("button",{className:"cf-btn cf-icon-plus",onClick:this.modelCondition.add}," ",t("ADD_CONDITION"))),React.createElement("div",{className:"clb-right"},React.createElement("div",{className:"conditions"},Object.entries(this.state.conditions).map((function(t){var n=Te(t,2),o=n[0],i=n[1];return React.createElement(Se,{key:o,id:o,active:r,modelCondition:e.modelCondition,modelRule:e.modelRules,modelAction:e.model("actions"),modelActionElse:e.model("else"),condition:i,form_fields:e.state.form_fields})})))))}}])&&Ne(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}(l);function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Ie(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Ie(o)?o:String(o)),n)}var o}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xe(e,t)}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Be(e)}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(u,e);var r,n,o,i,c=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Be(o);if(i){var r=Be(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return r=u,(n=[{key:"render",value:function(){var e=Object.keys(this.state.conditions)[0],r=this.state.conditions[e];return React.createElement("div",{className:"conditions"},!e&&React.createElement("div",null,React.createElement("div",null,t("NO_CONDITIONS")),React.createElement("div",{className:"cf-icon-unhappy"}),React.createElement("button",{className:"cf-btn cf-icon-plus",onClick:this.modelCondition.add}," ",t("ADD_CONDITION"))),e&&React.createElement("div",{class:"conditionSection"},React.createElement(he,{rules:r.rules,condition:r,condition_id:e,model:this.modelRules,form_fields:this.state.form_fields})))}}])&&Le(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}(l);document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".clstart").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),ReactDOM.render(React.createElement(ke,{el:e.target.nextElementSibling}),document.getElementById("clb-root"))}))})),document.querySelectorAll(".clb").forEach((function(e){ReactDOM.render(React.createElement(He,{el:e.querySelector("input")}),e.querySelector("div"))}))}))})();
